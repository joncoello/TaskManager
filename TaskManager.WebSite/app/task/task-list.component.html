<h1>{{title}}</h1>
<div *ngIf='!isLoading'>
    <form [formGroup]="addTaskForm"
          (ngSubmit)="onSubmit(addTaskForm.value)">
        <!--<div class="input-group">
            <input class="form-control"
                   placeholder="new task"
                   type="text"
                   id="name"
                   autocomplete="off"
                   [formControl]="addTaskForm.controls['name']">
            <span class="input-group-btn">
                <button class="btn btn-default" type="submit">add</button>
            </span>
        </div>-->

        <div class="form-group">
            <label class="control-label">Create new</label>
            <div class="input-group">

                <input 
                       type="text" 
                       class="form-control"
                       id="taskName"
                       [formControl]="addTaskForm.controls['taskName']">
                       
                <span class="input-group-btn">
                    <button class="btn btn-default" type="submit">add</button>
                </span>
            </div>
        </div>

    </form>
    <div *ngFor='let group of data'>
        <h2>{{group.categoryName}}</h2>
        <table class="table table-striped table-hover">
            <!--<thead>
                <tr>
                    <th>
                        This is a title
                    </th>
                </tr>
            </thead>-->
            <tr *ngFor='let item of group.tasks'>
                <td [routerLink]="['task', item.taskItemID]">
                    <h4 class="list-group-item-heading">{{item.taskName}}</h4>
                    <p class="list-group-item-text">{{item.body}}</p>
                </td>
                <td>
                    <a class="btn btn-danger btn-xs delete-button"
                       (click)="deleteTask(item.taskItemID)">
                        <i class="fa fa-trash-o fa-sm"></i>
                    </a>
                </td>
            </tr>
        </table>
    </div>
</div>
<div *ngIf='isLoading || isAdding' class="table-loader">
    <img src="/img/gears.gif" />
</div>